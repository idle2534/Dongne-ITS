import{r as p,a as F,d as I,u as E,b as u,j as e,P as N,F as v,e as A,c as r}from"./index-D3lfGxyK.js";import{u as y,B as k,C as R}from"./Button-Du56ieae.js";import{E as P,S as L,a as j,b as $,G as C}from"./StatusMessage-CoHI4gkw.js";import{P as M,A as S,d as V}from"./Backspace-B6MM5f1a.js";const O=()=>{const[s,a]=p.useState(!1),c=F(),g=I(t=>t.projects),d=E(t=>t.isAdmin),{loadAllProjectList:o}=M();return p.useEffect(()=>{o()},[]),u(v,{children:[s&&e(H,{onClose:()=>{a(!1)}}),e(L,{title:"프로젝트",createClick:d()?()=>{a(!0)}:void 0,children:g.map(t=>e(P,{onClick:()=>{c(N.Project,{state:{id:t.id}})},children:`${t.name} [${t.id}]`},t.id))})]})},H=({onClose:s})=>{const{handleSubmit:a,register:c}=y(),[g,d]=p.useState(!1),[o,t]=p.useState([]),[b,x]=p.useState([]),n=p.useRef(!1),h=A(i=>i.accounts),{loadAllAccountList:z}=S(),{addProject:B}=M();p.useEffect(()=>{z()},[]),p.useEffect(()=>{const i=[];n.current?h.map(l=>{l.role!=="PL"&&i.push({value:l.id,label:`${l.name} [${l.role}] [${l.id}]`})}):h.map(l=>{i.push({value:l.id,label:`${l.name} [${l.role}] [${l.id}]`})}),x(i)},[h,n.current]);const q=i=>{if(!i.name){d("모든 정보를 입력해주세요.");return}B({name:i.name,memberIds:o}),s()},D=i=>{var l;if((l=b.find(m=>`${m.value}`===i))!=null&&l.label.includes("PL")&&(n.current=!0),o.findIndex(m=>`${m}`===i)===-1){const m=[...o];m.push(`${i}`.match(/\d+/g).map(Number)[0]),t(m)}};return u(C,{onClose:s,children:[g?e(j,{message:g,setMessage:d,duration:2e3}):null,u(U,{onSubmit:a(q),children:[e(G,{children:"프로젝트 생성"}),e(_,{placeholder:"프로젝트 이름",...c("name")}),e($,{options:b,onChange:D,placeholder:"프로젝트 담당자 설정 선택"}),e(J,{children:e(K,{children:o.map((i,l)=>{const m=h.find(f=>f.id===i);return e("div",{children:m?u(W,{children:[`${m.name} (${m.role})`,e(Q,{onClick:()=>{m.role==="PL"&&(n.current=!1);const f=[...o];f.splice(l,1),t(f)}})]}):null},i)})})}),e(X,{type:"submit",variant:"contained",children:"등록하기"})]})]})},G=r("div",{target:"e1epv5x57"})({name:"1n5m32i",styles:"font-size:35px;font-weight:bold;color:#2528c7;margin-bottom:-8px"}),U=r("form",{target:"e1epv5x56"})({name:"k27csg",styles:"width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center"}),_=r("input",{target:"e1epv5x55"})({name:"17lqpmn",styles:'background-color:white;width:80%;height:45px;border:2px solid #5d5dff;border-radius:3px;outline:none;margin-top:20px;font-size:16px;text-align:center;font-family:"Spoqa Han Sans Neo","sans-seri";::placeholder{font-family:"Spoqa Han Sans Neo","sans-seri";text-align:center;}'}),J=r("div",{target:"e1epv5x54"})({name:"1fmeecv",styles:"position:relative;background-color:white;width:80%;height:170px;background-color:#5d5dff;border:3.5px solid #5d5dff;margin-left:15px;margin-right:15px;margin-top:10px;border-radius:3px;overflow-y:auto;::-webkit-scrollbar{width:6px;}::-webkit-scrollbar-thumb{background-color:#2f3542;}::-webkit-scrollbar-track{background-color:#dcdcdc;}"}),K=r("div",{target:"e1epv5x53"})({name:"a1snif",styles:"width:100%;display:flex;align-items:center;flex-direction:column"}),Q=r(V,{target:"e1epv5x52"})({name:"anun7w",styles:"position:absolute;right:10px"}),W=r("div",{target:"e1epv5x51"})({name:"ssiio0",styles:"position:relative;background-color:white;width:330px;height:40px;border-radius:3px;margin-top:8px;margin-bottom:3px;color:#5d5dff;font-size:16px;display:flex;align-items:center;justify-content:center"}),X=r(k,{target:"e1epv5x50"})({name:"t0juvn",styles:"font-size:17px;font-weight:bold;width:82%;height:50px;background-color:#2528c7;border:0px;box-shadow:0px 5px 0 -0.5px black;margin-top:20px;margin-bottom:5px;transition:opacity 1s linear;:hover{background-color:#2528c7;border:0px;box-shadow:0 0 0 0 black;margin-top:25px;margin-bottom:0px;transition:0s;}"}),Y=()=>{const{loadAllAccountList:s}=S(),[a,c]=p.useState(!1),[g,d]=p.useState(!1),o=A(t=>t.accounts);return p.useEffect(()=>{s()},[]),u(v,{children:[a&&e(se,{user:a,onClose:()=>{c(!1)}}),g&&e(ee,{onClose:()=>{d(!1)}}),e(L,{title:"사용자",createClick:()=>{d(!0)},children:o.map(t=>e(P,{onClick:()=>{c(t)},children:`${t.name} [${t.role}] [${t.id}] `},t.id))})]})},Z=[{value:"PL",label:"PL"},{value:"DEV",label:"DEV"},{value:"TESTER",label:"TESTER"}],ee=({onClose:s})=>{const{handleSubmit:a,register:c,setValue:g}=y(),[d,o]=p.useState(!1),{addAccount:t}=S(),b=n=>{if(!n.password||!n.passwordCheck||!n.id||!n.name){o("모든 정보를 입력해주세요.");return}if(n.password!==n.passwordCheck){o("입력한 비밀번호가 동일하지 않습니다.");return}if(!n.role){o("직책을 선택하지 않았습니다.");return}t({signId:n.id,name:n.name,password:n.password,role:n.role}),s()},x=n=>{g("role",n)};return u(C,{onClose:s,children:[d?e(j,{message:d,setMessage:o,duration:2e3}):null,u(ne,{onSubmit:a(b),children:[e(te,{children:"계정 생성"}),e(w,{placeholder:"아이디",...c("id")}),e(w,{placeholder:"이름",...c("name")}),e(w,{placeholder:"비밀번호",type:"password",...c("password")}),e(w,{placeholder:"비밀번호 재입력",type:"password",...c("passwordCheck")}),e($,{options:Z,onChange:x,placeholder:"직책 설정"}),e(oe,{type:"submit",variant:"contained",children:"등록하기"})]})]})},te=r("div",{target:"e1joj12d3"})({name:"1n5m32i",styles:"font-size:35px;font-weight:bold;color:#2528c7;margin-bottom:-8px"}),ne=r("form",{target:"e1joj12d2"})({name:"k27csg",styles:"width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center"}),w=r("input",{target:"e1joj12d1"})({name:"17lqpmn",styles:'background-color:white;width:80%;height:45px;border:2px solid #5d5dff;border-radius:3px;outline:none;margin-top:20px;font-size:16px;text-align:center;font-family:"Spoqa Han Sans Neo","sans-seri";::placeholder{font-family:"Spoqa Han Sans Neo","sans-seri";text-align:center;}'}),oe=r(k,{target:"e1joj12d0"})({name:"t0juvn",styles:"font-size:17px;font-weight:bold;width:82%;height:50px;background-color:#2528c7;border:0px;box-shadow:0px 5px 0 -0.5px black;margin-top:20px;margin-bottom:5px;transition:opacity 1s linear;:hover{background-color:#2528c7;border:0px;box-shadow:0 0 0 0 black;margin-top:25px;margin-bottom:0px;transition:0s;}"}),re=[{value:"PL",label:"PL"},{value:"DEV",label:"DEV"},{value:"TESTER",label:"TESTER"}],se=({user:s,onClose:a})=>{const{handleSubmit:c,setValue:g}=y(),[d,o]=p.useState(!1),{deleteAccount:t,editAccount:b}=S(),x=h=>{if(!h.role){o("직책을 선택하지 않았습니다.");return}b(s.id,h.role),a()},n=h=>{g("role",h)};return u(C,{onClose:a,children:[d?e(j,{message:d,setMessage:o,duration:2e3}):null,u(ie,{onSubmit:c(x),children:[u(ae,{children:[s.name," 계정 편집"]}),e($,{options:re,onChange:n,placeholder:"직책 설정"}),e(T,{type:"submit",variant:"contained",children:"변경하기"}),e(le,{onClick:()=>{t(s.id),a()},children:"계정 삭제하기"})]})]})},ae=r("div",{target:"ekr63v83"})({name:"1cw4bdy",styles:"font-size:35px;font-weight:bold;color:#2528c7;margin-bottom:60px"}),ie=r("form",{target:"ekr63v82"})({name:"k27csg",styles:"width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center"}),T=r(k,{target:"ekr63v81"})({name:"t0juvn",styles:"font-size:17px;font-weight:bold;width:82%;height:50px;background-color:#2528c7;border:0px;box-shadow:0px 5px 0 -0.5px black;margin-top:20px;margin-bottom:5px;transition:opacity 1s linear;:hover{background-color:#2528c7;border:0px;box-shadow:0 0 0 0 black;margin-top:25px;margin-bottom:0px;transition:0s;}"}),le=r(T,{target:"ekr63v80"})({name:"mzks0u",styles:"background-color:#c72525;color:white;margin-top:80px;:hover{margin-top:85px;background-color:#c72525;}"}),ue=()=>{const s=E(a=>a.isAdmin);return e(v,{children:u(R,{children:[s()&&e(Y,{}),e(O,{})]})})};export{ue as default};
